{"version":3,"sources":["components/SearchPage/SearchDetails/SearchDetails.module.scss","components/SearchPage/SearchPage.module.scss","components/SearchPage/SearchSidebar/SearchSidebar.module.scss","components/SearchPage/SearchTop/SearchTop.module.scss","components/SearchPage/SearchDetails/SearchDetails.jsx","components/SearchPage/SearchSidebar/SearchSidebar.jsx","components/SearchPage/SearchTop/SearchTop.jsx","components/SearchPage/SearchPage.jsx"],"names":["module","exports","SearchDetails","items","format","totalPages","currentPage","undefined","className","s","search","length","getCorrectDate","date","split","reverse","join","search__list","map","item","item__image","to","id","item__link","src","poster_path","alt","title","original_title","name","original_name","loading","item__rating","vote_average","toFixed","item__bottom","item__title","item__date","release_date","first_air_date","Pagination","genreFormat","SearchSidebar","sidebar","sidebar__title","sidebar__list","sidebar__item","sidebar__link","activeClassName","sidebar__link_active","sidebar__label","MemoizedSearchSidebar","React","memo","SearchTop","searchText","itemsCount","updateSearchText","top","top__top","top__query","top__results","top__bottom","xmlns","viewBox","d","type","value","onChange","e","target","connect","state","mainSearch","results","isFetchingResults","totalResults","loadSearchResults","zeroOutSearchResults","match","params","pageId","debouncedText","useDebounce","useEffect","Container","search__wrapper","Loader","style","marginLeft","fontSize"],"mappings":"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","file":"static/js/4.26d94a59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"SearchDetails_search__1kjzh\",\"search__list\":\"SearchDetails_search__list__oUraD\",\"item\":\"SearchDetails_item__cDq3f\",\"item__image\":\"SearchDetails_item__image__1munw\",\"item__bottom\":\"SearchDetails_item__bottom__3jsmD\",\"item__title\":\"SearchDetails_item__title__S05Hb\",\"item__rating\":\"SearchDetails_item__rating__2NWao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__wrapper\":\"SearchPage_search__wrapper__2DxVI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"SearchSidebar_sidebar__5hk5K\",\"sidebar__title\":\"SearchSidebar_sidebar__title__3ETwO\",\"sidebar__list\":\"SearchSidebar_sidebar__list__3ePYP\",\"sidebar__link\":\"SearchSidebar_sidebar__link__3z6nk\",\"sidebar__link_active\":\"SearchSidebar_sidebar__link_active__1Do9S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"SearchTop_top__1eQyY\",\"top__top\":\"SearchTop_top__top__1b19L\",\"top__query\":\"SearchTop_top__query__3-rJj\",\"top__results\":\"SearchTop_top__results__2O1Wv\",\"top__bottom\":\"SearchTop_top__bottom__3kcvo\"};","import React from \"react\";\r\nimport s from \"./SearchDetails.module.scss\";\r\nimport {Link} from 'react-router-dom';\r\nimport {Pagination} from '../../UI/Pagination/Pagination';\r\n\r\nexport const SearchDetails = ({ items, format, totalPages, currentPage }) => {\r\n    if (items === undefined) {\r\n        return (\r\n            <div className={s.search}>\r\n                <p>Введите что-нибудь в поисковую строку ещё раз</p>\r\n            </div>\r\n        );\r\n    } else if (items.length === 0) {\r\n        return (\r\n            <div className={s.search}>\r\n                <p>К сожалению, по данному запросу нет результатов</p>\r\n            </div>\r\n        );\r\n    } else {\r\n        const getCorrectDate = (date) => {\r\n            if (date !== undefined) {\r\n                return date.split(\"-\").reverse().join(\".\");\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className={s.search}>\r\n                <ul className={s.search__list}>\r\n                    {items.map((item) => {\r\n                        return (\r\n                            <li key={item.id} className={s.item}>\r\n                                <div className={s.item__image}>\r\n                                    <Link\r\n                                        to={`/catalog/${format}/${item.id}`}\r\n                                        className={s.item__link}\r\n                                    >\r\n                                        <img\r\n                                            src={\r\n                                                item.poster_path !== null\r\n                                                    ? `https://image.tmdb.org/t/p/w342${item.poster_path}`\r\n                                                    : \"https://dummyimage.com/275x412/a6a6a6/fff.jpg&text=%D0%9D%D0%B5%D1%82+%D0%BF%D0%BE%D1%81%D1%82%D0%B5%D1%80%D0%B0\"\r\n                                            }\r\n                                            alt={\r\n                                                item.title ||\r\n                                                item.original_title ||\r\n                                                item.name ||\r\n                                                item.original_name\r\n                                            }\r\n                                            title={\r\n                                                item.title ||\r\n                                                item.original_title ||\r\n                                                item.name ||\r\n                                                item.original_name\r\n                                            }\r\n                                            loading=\"lazy\"\r\n                                        />\r\n                                    </Link>\r\n                                </div>\r\n                                <div className={s.item__rating}>\r\n                                    <span>{item.vote_average.toFixed(1)}</span>\r\n                                </div>\r\n                                <div className={s.item__bottom}>\r\n                                    <div className={s.item__title}>\r\n                                        <Link\r\n                                            to={`/catalog/${format}/${item.id}`}\r\n                                        >\r\n                                            {item.title ||\r\n                                                item.original_title ||\r\n                                                item.name ||\r\n                                                item.original_name}\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className={s.item__date}>\r\n                                        {getCorrectDate(item.release_date) ||\r\n                                            getCorrectDate(item.first_air_date)}\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n                <Pagination\r\n                    totalPages={totalPages}\r\n                    genreFormat={`search/${format}`}\r\n                    currentPage={currentPage}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n","import React from 'react';\r\nimport s from './SearchSidebar.module.scss';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nexport const SearchSidebar = () => {\r\n    return (\r\n        <section className={s.sidebar}>\r\n            <h3 className={s.sidebar__title}>Результаты поиска</h3>\r\n            <ul className={s.sidebar__list}>\r\n                <li className={s.sidebar__item}>\r\n                    <NavLink\r\n                        to=\"/search/movie\"\r\n                        className={s.sidebar__link}\r\n                        activeClassName={s.sidebar__link_active}\r\n                    >\r\n                        <span className={s.sidebar__label}>Фильмы</span>\r\n                    </NavLink>\r\n                </li>\r\n                <li className={s.sidebar__item}>\r\n                    <NavLink\r\n                        to=\"/search/tv\"\r\n                        className={s.sidebar__link}\r\n                        activeClassName={s.sidebar__link_active}\r\n                    >\r\n                        <span className={s.sidebar__label}>Сериалы</span>\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </section>\r\n    );\r\n};\r\nexport const MemoizedSearchSidebar = React.memo(SearchSidebar);","import React from 'react';\r\nimport s from './SearchTop.module.scss';\r\n\r\nexport const SearchTop = ({ searchText, itemsCount, updateSearchText }) => {\r\n    return (\r\n        <div className={s.top}>\r\n            <div className={s.top__top}>\r\n                <div className={s.top__query}>\r\n                    Ваш запрос: <span>{searchText}</span>\r\n                </div>\r\n                <div className={s.top__results}>Найдено {itemsCount}</div>\r\n            </div>\r\n            <div className={s.top__bottom}>\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 512.005 512.005\"\r\n                >\r\n                    <path d=\"M505.749 475.587l-145.6-145.6c28.203-34.837 45.184-79.104 45.184-127.317C405.333 90.926 314.41.003 202.666.003S0 90.925 0 202.669s90.923 202.667 202.667 202.667c48.213 0 92.48-16.981 127.317-45.184l145.6 145.6c4.16 4.16 9.621 6.251 15.083 6.251s10.923-2.091 15.083-6.251c8.341-8.341 8.341-21.824-.001-30.165zM202.667 362.669c-88.235 0-160-71.765-160-160s71.765-160 160-160 160 71.765 160 160-71.766 160-160 160z\" />\r\n                </svg>\r\n                <input\r\n                    type=\"text\"\r\n                    value={searchText}\r\n                    onChange={(e) => updateSearchText(e.target.value)}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useDebounce } from \"../../api/useDebounce\";\r\nimport {\r\n    loadSearchResults,\r\n    updateSearchText,\r\n    zeroOutSearchResults,\r\n} from \"../../store/reducers/mainSearchReducer\";\r\nimport { Container } from \"../UI/Container/Container\";\r\nimport { Loader } from \"../UI/Loader/Loader\";\r\nimport { SearchDetails } from \"./SearchDetails/SearchDetails\";\r\nimport s from \"./SearchPage.module.scss\";\r\nimport { MemoizedSearchSidebar } from \"./SearchSidebar/SearchSidebar\";\r\nimport { SearchTop } from \"./SearchTop/SearchTop\";\r\n\r\nconst SearchPage = ({\r\n    searchText,\r\n    results,\r\n    isFetchingResults,\r\n    loadSearchResults,\r\n    currentPage,\r\n    totalPages,\r\n    totalResults,\r\n    updateSearchText,\r\n    zeroOutSearchResults,\r\n    match: {\r\n        params: {format, pageId}\r\n    }\r\n}) => {\r\n    const debouncedText = useDebounce(searchText, 400);\r\n    useEffect(() => {\r\n        if (debouncedText.length !== 0) {\r\n            loadSearchResults(debouncedText, format, pageId);\r\n        } else {\r\n            zeroOutSearchResults();\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [debouncedText, loadSearchResults, zeroOutSearchResults]);\r\n\r\n\r\n    const returnRelevantAnswer = () => {\r\n        if (searchText.length !== 0) {\r\n            if (isFetchingResults === false) {\r\n                return (\r\n                    <SearchDetails\r\n                        items={results}\r\n                        format={format}\r\n                        totalPages={totalPages}\r\n                        currentPage={currentPage}\r\n                    />\r\n                );\r\n            } else {\r\n                return <Loader />;\r\n            }\r\n        } else {\r\n            return (\r\n                <p style={{marginLeft: \"15px\", fontSize: \"24px\"}}>Введите что-нибудь в поисковую строку ещё раз</p>\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <section className={s.search}>\r\n            <Container>\r\n                <SearchTop\r\n                    searchText={searchText}\r\n                    itemsCount={\r\n                        format === \"movie\"\r\n                            ? `${totalResults} фильмов`\r\n                            : `${totalResults} сериалов`\r\n                    }\r\n                    updateSearchText={updateSearchText}\r\n                />\r\n                <div className={s.search__wrapper}>\r\n                    <>\r\n                        <MemoizedSearchSidebar />\r\n                        {returnRelevantAnswer()}\r\n                    </>\r\n                </div>\r\n            </Container>\r\n        </section>\r\n    );\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        searchText: state.mainSearch.searchText,\r\n        results: state.mainSearch.results,\r\n        isFetchingResults: state.mainSearch.isFetchingResults,\r\n        currentPage: state.mainSearch.currentPage,\r\n        totalPages: state.mainSearch.totalPages,\r\n        totalResults: state.mainSearch.totalResults,\r\n    };\r\n};\r\nexport default connect(mapStateToProps, {\r\n    loadSearchResults,\r\n    updateSearchText,\r\n    zeroOutSearchResults,\r\n})(SearchPage);\r\n"],"sourceRoot":""}